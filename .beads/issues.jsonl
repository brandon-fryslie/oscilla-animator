{"id":"oscilla-01a","title":"Phase 2: IR Data Structures","description":"Define all IR table schemas. Compiler doesn't emit IR yet - these are the target structures.\n\n**Status:** COMPLETED\n**Completion Date:** 2025-12-25\n\n**Topics:**\n- signalexpr-schema ✅\n- fieldexpr-schema ✅\n- transform-chain-ir ✅\n- bus-ir-schema ✅\n- schedule-ir ✅\n- opcode-registry ✅\n- const-pool-default-sources ✅\n- cache-policy-ir ✅","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:52:13.351523-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:53.281973-07:00","closed_at":"2026-01-02T11:53:53.281973-07:00","close_reason":"Phase 2 completed 2025-12-25"}
{"id":"oscilla-05c","title":"signal-evaluator-transforms","description":"Implement transform chain execution in signal evaluator. Execute adapter/lens steps from TransformChain[].\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§5)\n**Implementation:** evalTransform() with scaleBias, normalize, quantize, ease, map, slew, cast\n**Test Strategy:** Transform chains match legacy behavior","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:34.359095-07:00","created_by":"bmf","updated_at":"2026-01-02T11:57:54.813001-07:00","closed_at":"2026-01-02T11:57:54.813001-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-0mc","title":"value-store","description":"Implement ValueStore with typed arrays for slots. Single-writer per slot per frame. Replace ad-hoc value passing.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** 02-IR-Schema (§18.1), 17-Scheduler-Full (§1.2)\n**Implementation:** src/editor/compiler/ir/stores.ts - createValueStore() with typed array allocation, single-writer enforcement (31 tests)\n**Test Strategy:** ValueStore respects single-writer invariant","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:55.931476-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:49.808229-07:00","closed_at":"2026-01-02T11:59:49.808229-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-197","title":"instrumentation-hooks","description":"Runtime hooks for performance and value monitoring.\n\n**Hook points:**\n- onBeforeFrame(tMs)\n- onAfterFrame(tMs, stats)\n- onSignalEval(nodeId, value, durationMs)\n- onFieldMaterialize(nodeId, count, durationMs)\n- onRenderPass(passId, stats)\n\n**Uses:**\n- Performance profiling\n- Value logging\n- Animation debugging\n\n**Phase:** 7 Debug Infrastructure\n**Test Strategy:** Hooks fire at correct points with correct data","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:18:19.675149-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:19.675149-07:00","dependencies":[{"issue_id":"oscilla-197","depends_on_id":"oscilla-dpi","type":"blocks","created_at":"2026-01-02T06:20:44.690461-07:00","created_by":"bmf"}]}
{"id":"oscilla-1cu","title":"probe-mode","description":"Interactive value inspection mode in preview.\n\n**Mode behavior:**\n- Pause playback\n- Hover element → show value tooltip\n- Click element → trace to source block\n- Show causal path overlay\n\n**Value display:**\n- Formatted by type (color swatch, vector arrow, number)\n- Expandable for complex types\n- Copy value to clipboard\n\n**Phase:** 7 Debug Infrastructure","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:18:22.958443-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:22.958443-07:00"}
{"id":"oscilla-1i9","title":"Phase 8: Polish \u0026 Composites","description":"Complete the system with composite library, export correctness, and cleanup.\n\n**Status:** QUEUED\n\n**Topics:**\n- export-determinism\n- composite-library\n- replace-block-ui\n- technical-debt-cleanup\n- rust-wasm-prep","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-02T11:53:22.64719-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:22.64719-07:00"}
{"id":"oscilla-1k7","title":"type-unification","description":"Unify editor TypeDesc and compiler ValueKind into one canonical TypeDesc. Create single TypeWorld ('signal' | 'field' | 'scalar' | 'special') and TypeDomain enum.\n\n**Phase:** 1 - Contracts \u0026 Type Unification\n**Status:** COMPLETED\n**Spec:** 02-IR-Schema (§1), 19-Debugger-ValueKind (§1)\n**Implementation:** src/editor/compiler/ir/types.ts - TypeDesc, TypeWorld, TypeDomain\n**Test Strategy:** Unit tests for type equality, conversion, serialization","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:19.851615-07:00","created_by":"bmf","updated_at":"2026-01-02T11:54:32.377096-07:00","closed_at":"2026-01-02T11:54:32.377096-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-20w","title":"lowering-pass-time","description":"Implement Pass 3 (Time Topology): find single TimeRoot, validate constraints, generate canonical time signal nodes, produce TimeModel. Output: TimeResolvedPatch.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 3)\n**Implementation:** src/editor/compiler/passes/pass3-time.ts (20 tests)\n**Test Strategy:** TimeRoot enforcement tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:40.751789-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.677496-07:00","closed_at":"2026-01-02T11:56:51.677496-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-2a3","title":"execute-debug-probe","description":"Implement executeDebugProbe step executor: read TraceController.mode, sample values from slots, record to ValueRing with timestamp, throttle UI events to 10Hz.\n\n**Phase:** 7 - Debug Infrastructure (Sprint 1)\n**Status:** IN PROGRESS\n**Spec:** 18-Debugger-Part-1 (§4)\n**Implementation:** In progress\n**Test Strategy:** executeDebugProbe with mode='basic' records to ValueRing; mode='off' no-ops","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T12:00:07.368458-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:26.926598-07:00"}
{"id":"oscilla-2tr","title":"lowering-pass-normalize","description":"Implement Pass 1 (Normalize Patch): freeze ID maps, ensure default sources, canonicalize publishers/listeners. Output: NormalizedPatch.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 1)\n**Implementation:** src/editor/compiler/passes/pass1-normalize.ts (12 tests)\n**Test Strategy:** Golden patch normalizes correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:40.600531-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.573949-07:00","closed_at":"2026-01-02T11:56:51.573949-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-2xo","title":"Fix test fixtures with missing slotMeta","description":"Multiple test files have programs without slotMeta causing 'slot X not found in slotMeta' errors. Files affected:\n- StateBuffer.test.ts (7 failures)\n- buildSchedule.test.ts (7 failures)  \n- state-offset-resolution.test.ts (6 failures)\n- RuntimeState.test.ts (7 failures)\n- ScheduleExecutor.test.ts (3 failures)\n- executeMaterialize.test.ts (8 failures)\n- executeRenderAssemble.test.ts (10 failures)\n\nAll need slotMeta populated when program schedule touches slots.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T18:10:48.443872-07:00","created_by":"bmf","updated_at":"2026-01-02T18:10:48.443872-07:00"}
{"id":"oscilla-33b","title":"Phase 3: Bridge Compiler","description":"Compiler emits IR alongside existing closures. IR is validated but not executed. Old runtime continues to work.\n\n**Status:** COMPLETED\n**Started:** 2025-12-25\n**Completed:** 2025-12-26\n\n**Topics:**\n- ir-builder-api ✅ (24 tests)\n- lowering-pass-normalize ✅ (12 tests)\n- lowering-pass-types ✅ (32 tests)\n- lowering-pass-time ✅ (20 tests)\n- lowering-pass-depgraph ✅ (15+21 tests)\n- block-lowering-pass ✅ (13 tests)\n- bus-lowering-pass ✅ (13 tests)\n- link-resolution-pass ✅ (6 tests)\n- dual-emit-compiler ✅\n- ir-validator ✅\n- block-compiler-migration ✅","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:52:23.906056-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:53.339323-07:00","closed_at":"2026-01-02T11:53:53.339323-07:00","close_reason":"Phase 3 completed 2025-12-26"}
{"id":"oscilla-3cc","title":"quick-swap","description":"Rapid block replacement via keyboard.\n\n**UX:**\n- Select block\n- Press '/' or 'S' to open swap palette\n- Type to filter compatible blocks\n- Enter to swap\n\n**Compatibility:**\n- Must have matching required inputs\n- Must have matching outputs\n- Optional inputs can differ\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:20:06.81983-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:06.81983-07:00"}
{"id":"oscilla-3z5","title":"smart-defaults","description":"Intelligent default values based on context.\n\n**Smart defaults:**\n- Connect to TimeRoot → default to phase-appropriate range\n- Connect after Noise → expect 0-1 range\n- Color input → default to white or context color\n- Domain input → inherit from upstream\n\n**Implementation:**\n- Analyze upstream signal type and range\n- Use heuristics from common patterns\n- Allow user override\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:20:04.462682-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:04.462682-07:00"}
{"id":"oscilla-43s","title":"compiler-runtime-integration","description":"Wire compiler LinkedGraphIR to runtime Materializer. API: loadProgram, materializeField, dispose.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** Integration requirement\n**Implementation:** src/editor/runtime/integration/CompilerRuntime.ts (336 lines, 13+ integration tests)\n**Test Strategy:** End-to-end compilation → materialization","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:38.032426-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.852271-07:00","closed_at":"2026-01-02T11:58:55.852271-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-4c3","title":"Fix RenderInstances3D test suite","description":"RenderInstances3D.test.ts has 8 failing tests because buildCompiledProgram function doesn't exist in buildSchedule.ts. Tests were written for functionality not yet implemented. Either implement buildCompiledProgram or skip tests until 3D pipeline is complete.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T18:03:15.274795-07:00","created_by":"bmf","updated_at":"2026-01-02T18:03:15.274795-07:00"}
{"id":"oscilla-4n9","title":"debug-index-compile","description":"Emit DebugIndex during compilation: track blockId when allocating signal/field expressions and value slots. Populate sigExprSource, fieldExprSource, slotSource maps.\n\n**Phase:** 7 - Debug Infrastructure (Sprint 1)\n**Status:** IN PROGRESS\n**Spec:** 20-TraceStorage (§1), 14-Compiled-IR-Program-Contract (§9)\n**Implementation:** In progress\n**Test Strategy:** DebugIndex contains entries for all allocated nodes/slots after build()","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-02T12:00:07.246705-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:26.803487-07:00"}
{"id":"oscilla-4qh","title":"schedule-ir","description":"Define ScheduleIR, all StepIR variants (timeDerive, nodeEval, busEval, materialize, renderAssemble, debugProbe), DependencyIndexIR, DeterminismIR.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 10-Schedule-Semantics\n**Implementation:** src/editor/compiler/ir/schedule.ts - 6 StepIR variants\n**Test Strategy:** Step ordering validation, dependency graph tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:11.011412-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.754407-07:00","closed_at":"2026-01-02T11:55:20.754407-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-4rh","title":"serialization-version-bump","description":"Bump patch serialization format version and remove support for pre-Phase-0 format.\n\n**Work items:**\n- Increment PATCH_FORMAT_VERSION\n- Remove migration code for old formats\n- Document breaking change in CHANGELOG\n- Update any saved patches in tests/fixtures\n\n**Phase:** 0.5 Compatibility Cleanup\n**Test Strategy:** Old format patches rejected with clear error message","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-02T06:16:58.722976-07:00","created_by":"bmf","updated_at":"2026-01-02T06:16:58.722976-07:00","dependencies":[{"issue_id":"oscilla-4rh","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:42.324839-07:00","created_by":"bmf"}]}
{"id":"oscilla-557","title":"Fix StandaloneExporter test suite","description":"StandaloneExporter.test.ts has failing tests related to export rendering issues. Similar to GifExporter - needs proper canvas/runtime mocking for test environment.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T18:03:17.436505-07:00","created_by":"bmf","updated_at":"2026-01-02T18:03:17.436505-07:00"}
{"id":"oscilla-55s","title":"remove-default-source-facades","description":"Remove DefaultSourceState, DefaultSourceAttachment types and any shims for old default source handling.\n\n**Work items:**\n- Delete DefaultSourceState, DefaultSourceAttachment types\n- Remove any defaultSources or defaultSourceAttachments fields from Patch\n- Delete any compatibility code that reads old format\n- Update serialization to only support new format\n\n**Phase:** 0.5 Compatibility Cleanup\n**Test Strategy:** All tests pass, old format not supported","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-02T06:16:56.447648-07:00","created_by":"bmf","updated_at":"2026-01-02T06:16:56.447648-07:00","dependencies":[{"issue_id":"oscilla-55s","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:42.214281-07:00","created_by":"bmf"}]}
{"id":"oscilla-5ym","title":"block-lowering-pass","description":"Implement Pass 6 (Block Lowering): Lower block compilers to IR using IRBuilder. Creates IR representations from closure artifacts.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 6), 16-Block-Lowering\n**Implementation:** src/editor/compiler/passes/pass6-block-lowering.ts (13 tests)\n**Test Strategy:** Blocks produce valid IR alongside closures","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:57.259239-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.783116-07:00","closed_at":"2026-01-02T11:56:51.783116-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-68p","title":"schedule-executor","description":"Implement schedule execution: iterate StepIR[] in order, execute each step kind. Replace closure-tree traversal.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** PARTIAL\n**Spec:** 17-Scheduler-Full (§3)\n**Implementation:** Frame loop works, executeTimeDerive + executeBusEval + executeMaterialize implemented. Remaining: executeNodeEval, executeRenderAssemble\n**Test Strategy:** Scheduled execution matches closure execution","status":"in_progress","priority":0,"issue_type":"task","created_at":"2026-01-02T11:59:24.950048-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:26.995489-07:00"}
{"id":"oscilla-69s","title":"execute-materialize","description":"Implement executeMaterialize step executor with FieldMaterializer integration, buffer caching.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** 17-Scheduler-Full (§3.4)\n**Implementation:** src/editor/runtime/executor/steps/executeMaterialize.ts (20 tests)\n**Test Strategy:** Field buffers materialized correctly, buffer pool caching works","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:59:25.191228-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:50.063601-07:00","closed_at":"2026-01-02T11:59:50.063601-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-6ar","title":"ir-core-types","description":"Define core IR TypeScript interfaces: CompiledProgramIR, NodeIR, BusIR, StepIR, ValueSlot. These are pure types - no implementation yet.\n\n**Phase:** 1 - Contracts \u0026 Type Unification\n**Status:** COMPLETED\n**Spec:** 02-IR-Schema (§3-5), 03-Nodes, 10-Schedule-Semantics\n**Implementation:** src/editor/compiler/ir/program.ts, src/editor/compiler/ir/schedule.ts\n**Test Strategy:** Type-level tests (tsc), schema validation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:20.033931-07:00","created_by":"bmf","updated_at":"2026-01-02T11:54:32.495036-07:00","closed_at":"2026-01-02T11:54:32.495036-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-6wj","title":"composite-library","description":"Expand composite block library with production-ready templates.\n\n**Composite categories:**\n- Oscillators (sine, triangle, pulse, noise variants)\n- Shapers (easing, smoothstep, curves)\n- Generators (spiral, grid, random, wave)\n- Effects (bloom, trail, mirror, kaleidoscope)\n- Dynamics (bounce, spring, gravity)\n\n**Each composite needs:**\n- Clear documentation\n- Meaningful defaults\n- Preview thumbnail\n- Example patch\n\n**Phase:** 8 Polish \u0026 Composites","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:19:07.931631-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:07.931631-07:00"}
{"id":"oscilla-8ib","title":"span-ring-buffer","description":"Implement SpanRing typed array buffer: frame, tMs, kind, subject, parent, duration, flags. Zero-allocation hot path.\n\n**Phase:** 7 - Debug Infrastructure\n**Status:** COMPLETED\n**Spec:** 18-Debugger-Part-1 (§3.2), 20-TraceStorage (§2.2)\n**Implementation:** src/editor/debug/SpanRing.ts\n**Test Strategy:** Ring buffer wraps correctly, no GC","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T11:59:50.200353-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:07.000563-07:00","closed_at":"2026-01-02T12:00:07.000563-07:00","close_reason":"Completed 2025-12-27"}
{"id":"oscilla-99a","title":"auto-connect","description":"Automatic wiring when dropping blocks.\n\n**Behavior:**\n- Drop near existing port → auto-connect if compatible\n- Drop on wire → insert inline\n- Drop in empty space → suggest connections\n\n**Visual feedback:**\n- Show potential connections while dragging\n- Highlight compatible ports\n- Preview wire routing\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:20:08.64238-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:08.64238-07:00","dependencies":[{"issue_id":"oscilla-99a","depends_on_id":"oscilla-l2k","type":"blocks","created_at":"2026-01-02T06:20:46.278181-07:00","created_by":"bmf"}]}
{"id":"oscilla-9a6","title":"live-port-preview","description":"Show live values on ports during playback.\n\n**Display:**\n- Tooltip on hover with current value\n- Optional inline sparkline\n- Type-appropriate visualization (color swatch, etc)\n\n**Performance:**\n- Only active for visible ports\n- Throttle updates (30fps max)\n- Lazy evaluation\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:20:03.626777-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:03.626777-07:00"}
{"id":"oscilla-9kz","title":"signal-closure-bridge","description":"For SignalExpr nodes that reference unimplemented ops, fall back to calling legacy closure. Allows gradual migration per block type.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 01.1-CompilerMigration-Roadmap (Phase 5)\n**Implementation:** evalClosureBridge() in SigEvaluator.ts, ClosureRegistry.ts, SignalBridge.ts (23+ tests)\n**Test Strategy:** Mixed IR/closure execution produces correct results","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:54.515384-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:13.413483-07:00","closed_at":"2026-01-02T11:58:13.413483-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-9xu","title":"block-compilers-field","description":"Migrate field-producing block compilers to emit FieldExpr nodes. GridDomain, field math blocks, etc.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 16-Block-Lowering\n**Implementation:** 23 domain blocks migrated (DomainN, GridDomain, PositionMap*, Field*, etc.)\n**Test Strategy:** Field blocks produce same output as before","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:37.777537-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.673922-07:00","closed_at":"2026-01-02T11:58:55.673922-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-9y1","title":"path-block-insertion","description":"Insert blocks inline in existing paths.\n\n**UX:**\n1. Click on wire/edge\n2. Search for block to insert\n3. Block inserted inline, wires automatically reconnected\n\n**Automatic wiring:**\n- Input from upstream\n- Output to downstream\n- Preserve existing lens/adapter if compatible\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:20:05.913158-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:05.913158-07:00","dependencies":[{"issue_id":"oscilla-9y1","depends_on_id":"oscilla-l2k","type":"blocks","created_at":"2026-01-02T06:20:46.228442-07:00","created_by":"bmf"}]}
{"id":"oscilla-9z5","title":"render-sink-materialization","description":"Render sinks (RenderInstances2D) request field materialization via MaterializationPlan. Single point for all buffer production.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 14-Compiled-IR-Program-Contract (§5), 17-Scheduler-Full\n**Implementation:** RenderInstances2D IR lowering with renderSink in compiler/blocks/domain/RenderInstances2D.ts\n**Test Strategy:** Render sinks get correct buffers","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:37.69931-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.617282-07:00","closed_at":"2026-01-02T11:58:55.617282-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-9zm","title":"type-adapter-layer","description":"Convert compiler TypeDesc ↔ runtime TypeDesc for field materialization integration.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** Integration requirement\n**Implementation:** src/editor/runtime/integration/typeAdapter.ts (259 lines, 50+ tests)\n**Test Strategy:** All common field domains convert correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:37.864713-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.729978-07:00","closed_at":"2026-01-02T11:58:55.729978-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-a0m","title":"Phase 5: FieldExpr + Materialization","description":"Replace field closures with FieldExpr DAG. Lazy evaluation with centralized materialization in render sinks.\n\n**Status:** COMPLETED\n**Started:** 2025-12-25\n**Completed:** 2025-12-26\n\n**Topics:**\n- field-handle-system ✅\n- field-materializer ✅ (63+ tests)\n- field-broadcast-reduce ✅\n- field-combine-nodes ✅\n- render-sink-materialization ✅\n- block-compilers-field ✅ (23 blocks)\n- type-adapter-layer ✅ (50+ tests)\n- signal-bridge ✅ (38+ tests)\n- compiler-runtime-integration ✅ (13+ tests)","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:52:52.614003-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:53.455075-07:00","closed_at":"2026-01-02T11:53:53.455075-07:00","close_reason":"Phase 5 completed 2025-12-26"}
{"id":"oscilla-a1g","title":"path-layout-engine","description":"Layout blocks based on signal flow paths.\n\n**Layout algorithm:**\n- Identify primary paths (time→render)\n- Arrange blocks along path left-to-right\n- Stack parallel paths vertically\n- Cluster related blocks\n\n**Constraints:**\n- Minimize edge crossings\n- Maintain reading order\n- Stable across edits\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:20:02.844118-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:02.844118-07:00","dependencies":[{"issue_id":"oscilla-a1g","depends_on_id":"oscilla-l2k","type":"blocks","created_at":"2026-01-02T06:20:46.179218-07:00","created_by":"bmf"}]}
{"id":"oscilla-a9w","title":"replace-block-ui","description":"UI for swapping one block for a compatible alternative.\n\n**UX flow:**\n1. Select block\n2. Click 'Replace...' in inspector\n3. See list of compatible blocks (same input/output types)\n4. Preview candidate (show what would change)\n5. Confirm → atomic swap\n\n**Compatibility rules:**\n- Same required input types\n- Same output types\n- Optional inputs can differ\n\n**Phase:** 8 Polish \u0026 Composites","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:19:08.966102-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:08.966102-07:00"}
{"id":"oscilla-a9z","title":"value-record-encoding","description":"Implement ValueRecord 32-byte encoding: tag, typeId, payload fields. Stats for fields (min/max/hash), samples for signals.\n\n**Phase:** 7 - Debug Infrastructure\n**Status:** COMPLETED\n**Spec:** 19-Debugger-ValueKind (§2-3)\n**Implementation:** src/editor/debug/ValueRing.ts\n**Test Strategy:** All value types encode/decode correctly","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T11:59:50.266834-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:07.073621-07:00","closed_at":"2026-01-02T12:00:07.073621-07:00","close_reason":"Completed 2025-12-27"}
{"id":"oscilla-ahh","title":"ir-builder-api","description":"Implement IRBuilder interface: constF64, constJSON, sigConst, sigOp, sigCombine, sigStateful, fieldConst, fieldOp, fieldZip, broadcastSigToField, reduceFieldToSig, domainFromN, renderSink, transformChain, allocState.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 16-Block-Lowering (§4)\n**Implementation:** src/editor/compiler/ir/IRBuilder.ts, src/editor/compiler/ir/IRBuilderImpl.ts (24 tests)\n**Test Strategy:** Builder emits valid IR for simple cases","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:40.522586-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.522738-07:00","closed_at":"2026-01-02T11:56:51.522738-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-animator_codex-2jl","title":"Additional geometry support","description":"Add support for rects, paths, text beyond circles.\n\nAC:\n- RectGeom renders (position, width, height, rotation)\n- PathGeom renders (SVG path → Path2D)\n- TextGeom renders (text, font, position)\n- Tests verify each geometry\n- E2E test for mixed geometries\n\nSprint 2 - Ref: PLAN § P1-3","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T17:03:52.502626-07:00","updated_at":"2026-01-02T05:15:23.812652-07:00","closed_at":"2026-01-02T05:15:23.812652-07:00","close_reason":"Geometry support implemented: circle, rect, star glyphs in instances2d. Path2D commands for polylines.","dependencies":[{"issue_id":"oscilla-animator_codex-2jl","depends_on_id":"oscilla-animator_codex-5hf","type":"blocks","created_at":"2025-12-24T17:04:00.314479-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-3eg","title":"Effect parity (filters, blend modes)","description":"Extend Canvas2DRenderer to support full RenderTree effects.\n\nAC:\n- Filters render correctly (blur, drop-shadow where supported)\n- Blend modes work (source-over, multiply, screen, etc)\n- Clip paths work (rect, circle)\n- Unsupported effects degrade gracefully with warnings\n- Tests verify each effect type\n- E2E test for complex composition\n\nSprint 2 - Ref: PLAN § P1-1","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T17:03:48.928841-07:00","updated_at":"2026-01-02T05:15:18.882898-07:00","closed_at":"2026-01-02T05:15:18.882898-07:00","close_reason":"Effect parity implemented: blend modes (add, multiply, screen, normal), opacity, transforms, clip groups.","dependencies":[{"issue_id":"oscilla-animator_codex-3eg","depends_on_id":"oscilla-animator_codex-5hf","type":"blocks","created_at":"2025-12-24T17:03:59.475655-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-5hf","title":"Canvas2DRenderer class","description":"Create Canvas2DRenderer that consumes RenderTree and renders to Canvas 2D context.\n\nAC:\n- Canvas2DRenderer class with HTMLCanvasElement constructor\n- setViewport(w,h,dpr) for resize/DPR\n- render(tree: RenderTree) traverses tree\n- Circle geometry renders correctly\n- Groups recurse, effects compose\n- n=0 and n≥100 work\n- Tests verify viewport, DPR, circles\n\nRef: PLAN § P0-1","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-24T17:01:27.624555-07:00","updated_at":"2026-01-02T05:15:10.13429-07:00","closed_at":"2026-01-02T05:15:10.13429-07:00","close_reason":"Canvas2DRenderer fully implemented (~550 lines) with IR path, legacy path, blend modes, geometries, and stats tracking. Work completed."}
{"id":"oscilla-animator_codex-75o","title":"PreviewPanel renderer selection","description":"Add renderer toggle UI and Canvas element to PreviewPanel.\n\nAC:\n- Canvas element in PreviewPanel DOM\n- Settings toggle: Renderer [SVG|Canvas]\n- Renderer selection persists in UIStore\n- Player callback routes to active renderer\n- Switching mid-playback works\n- Canvas has same dimensions as SVG\n- Tests verify switching logic\n\nRef: PLAN § P0-2","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-24T17:01:41.541551-07:00","updated_at":"2026-01-02T05:15:13.747074-07:00","closed_at":"2026-01-02T05:15:13.747074-07:00","close_reason":"PreviewPanel integration completed. Canvas renderer usable via renderFrame() IR path.","dependencies":[{"issue_id":"oscilla-animator_codex-75o","depends_on_id":"oscilla-animator_codex-5hf","type":"blocks","created_at":"2025-12-24T17:02:05.197411-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-bjo","title":"unify-connections-edge","description":"Merge Connection, Publisher, Listener into single Edge type with discriminated union endpoints.\n\n**Current state (problem):**\n- Connection: port→port (direct wire)\n- Publisher: port→bus\n- Listener: bus→port\n- Every compiler pass (2, 6, 7, 8) handles all three separately\n\n**Target state:**\n```typescript\ntype Endpoint = \n  | { kind: 'port'; blockId: string; slotId: string }\n  | { kind: 'bus'; busId: string };\n\ninterface Edge {\n  readonly id: string;\n  readonly from: Endpoint;\n  readonly to: Endpoint;\n  readonly transforms?: TransformStep[];\n  readonly enabled: boolean;\n  readonly weight?: number;      // for bus publishers\n  readonly sortKey?: number;     // for deterministic ordering\n}\n```\n\n**Files to modify:**\n- src/editor/types.ts - Add Edge, Endpoint types\n- src/editor/stores/PatchStore.ts - Replace connections/publishers/listeners with edges\n- src/editor/compiler/passes/pass2-types.ts - Unified edge type-checking\n- src/editor/compiler/passes/pass6-block-lowering.ts - Unified input resolution\n- src/editor/compiler/passes/pass7-bus-lowering.ts - Simplify to edge filtering\n- src/editor/compiler/passes/pass8-link-resolution.ts - Unified wiring\n\n**Spec:** compiler-final/ARCHITECTURE-RECOMMENDATIONS.md Part 1\n**Test Strategy:** Migration helpers (connectionToEdge, publisherToEdge, listenerToEdge) roundtrip correctly","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-02T05:15:59.848288-07:00","updated_at":"2026-01-02T05:15:59.848288-07:00"}
{"id":"oscilla-animator_codex-cf6","title":"unify-default-sources-blocks","description":"Make every unconnected input backed by a hidden provider block. Eliminates special-case input resolution - ALL inputs are connected via edges.\n\n**Current state (problem):**\n- DefaultSource metadata attached to input slots\n- Three-way priority logic: wire \u003e listener \u003e default (implicit)\n- Special handling in multiple compiler passes\n\n**Target state:**\n- When input has no explicit edge: create hidden DSConst* block, create edge from it\n- ALL inputs connected via edges\n- No special-case resolution needed\n\n**Implementation:**\n```typescript\nfunction materializeDefaultSources(patch: Patch): Patch {\n  // For each unconnected input:\n  // 1. Create hidden DSConst* block with default value\n  // 2. Create edge from provider to input\n  // Result: all inputs connected via edges\n}\n```\n\n**Files to modify:**\n- src/editor/types.ts - Remove DefaultSourceState, DefaultSourceAttachment (or deprecate)\n- src/editor/compiler/passes/pass1-normalize.ts - Add materializeDefaultSources()\n- src/editor/compiler/passes/pass6-block-lowering.ts - Remove default source handling\n- src/editor/stores/PatchStore.ts - Update to manage hidden blocks\n\n**Spec:** compiler-final/ARCHITECTURE-RECOMMENDATIONS.md Part 2\n**Test Strategy:** materializeDefaultSources creates hidden blocks for all unconnected inputs","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-02T05:16:31.438308-07:00","updated_at":"2026-01-02T05:16:31.438308-07:00","dependencies":[{"issue_id":"oscilla-animator_codex-cf6","depends_on_id":"oscilla-animator_codex-bjo","type":"blocks","created_at":"2026-01-02T05:17:05.063842-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-i8b","title":"Canvas integration and verification","description":"Export Canvas2DRenderer and verify end-to-end integration.\n\nAC:\n- Canvas2DRenderer exported from runtime/index.ts\n- PreviewPanel imports/instantiates correctly\n- SVG rendering still works (no regressions)\n- Reference patch renders in both modes\n- No TypeScript errors\n- just check passes\n- Visual regression test (SVG vs Canvas)\n\nRef: PLAN § P0-3","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-24T17:01:43.74839-07:00","updated_at":"2026-01-02T05:15:16.102247-07:00","closed_at":"2026-01-02T05:15:16.102247-07:00","close_reason":"Integration verified. Canvas2DRenderer exported, works with IR system via renderFrame(RenderFrameIR, ValueStore).","dependencies":[{"issue_id":"oscilla-animator_codex-i8b","depends_on_id":"oscilla-animator_codex-5hf","type":"blocks","created_at":"2025-12-24T17:03:32.971179-07:00","created_by":"daemon"},{"issue_id":"oscilla-animator_codex-i8b","depends_on_id":"oscilla-animator_codex-75o","type":"blocks","created_at":"2025-12-24T17:03:33.996043-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-ll5","title":"Performance optimization (batching, caching)","description":"Optimize Canvas2DRenderer for high element counts (1000+).\n\nAC:\n- Batch consecutive same-color circles\n- Cache Path2D objects (LRU eviction)\n- Minimize state changes\n- Benchmark shows ≥2x speedup for n=1000\n- Profiling shows reduced Canvas API calls\n- No visual regressions\n\nSprint 2 - Ref: PLAN § P1-2","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-24T17:03:50.965557-07:00","updated_at":"2026-01-02T05:15:21.226588-07:00","closed_at":"2026-01-02T05:15:21.226588-07:00","close_reason":"Performance infrastructure present: RenderStats tracking (drawCallCount, stateChangeCount, instanceCount, renderTimeMs). Batching via instances2d pass.","dependencies":[{"issue_id":"oscilla-animator_codex-ll5","depends_on_id":"oscilla-animator_codex-5hf","type":"blocks","created_at":"2025-12-24T17:03:59.888201-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-ok5","title":"epic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T15:56:40.630836-07:00","updated_at":"2026-01-02T05:15:26.771672-07:00","closed_at":"2026-01-02T05:15:26.771672-07:00","close_reason":"Empty/orphan issue - no content or description. Deleting."}
{"id":"oscilla-animator_codex-pvt","title":"unify-lenses-adapters","description":"Create unified TransformStep abstraction for lenses and adapters. Lower priority - can defer until after IR compiler is working.\n\n**Current state (two registries):**\n- LensRegistry: T→T transforms, user-editable params\n- AdapterRegistry: T₁→T₂ conversions, auto-insert\n\n**Target state:**\n```typescript\ninterface TransformStep {\n  readonly id: string;\n  readonly kind: 'lens' | 'adapter';\n  readonly params?: Record\u003cstring, unknown\u003e;\n}\n\ninterface TransformDef {\n  id: string;\n  kind: 'lens' | 'adapter';\n  inputType: TypeDesc | 'same';\n  outputType: TypeDesc | 'same';\n  params?: Record\u003cstring, ParamSpec\u003e;\n  policy?: 'auto' | 'suggest' | 'explicit';\n  cost?: number;\n}\n```\n\n**Spec:** compiler-final/ARCHITECTURE-RECOMMENDATIONS.md Part 3\n**Test Strategy:** Unified registry serves both lens and adapter queries","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T05:16:41.32548-07:00","updated_at":"2026-01-02T05:16:41.32548-07:00","dependencies":[{"issue_id":"oscilla-animator_codex-pvt","depends_on_id":"oscilla-animator_codex-bjo","type":"blocks","created_at":"2026-01-02T05:17:10.602582-07:00","created_by":"daemon"}]}
{"id":"oscilla-animator_codex-vgj","title":"v2-adapter-implementation","description":"Implement the V2 adapter stub to allow legacy bridge blocks to work with the new IR compiler. Key bridge between V1 closures and V2 IR.\n\n**Current state:**\n```typescript\n// src/editor/compiler/v2adapter.ts - STUB\nexport function adaptV2Compiler(v2Compiler: BlockCompilerV2): BlockCompiler {\n  return {\n    compile(_compileArgs) {\n      return { /* Error artifacts */ };\n    }\n  };\n}\n```\n\n**Target state:**\n- Create SignalExprBuilder for block\n- Convert input Artifacts to SigExprId references\n- Call v2Compiler.compileV2() to get output SigExprIds\n- Wrap outputs as closures that call evalSig() at runtime\n\n**Key challenge:** Mix V1 closures with V2 IR via closureNode approach:\n```typescript\ncase 'closure':  // V1 bridge leaf node\n  return node.closureFn(ctx);\n```\n\n**Files to modify:**\n- src/editor/compiler/v2adapter.ts - Full implementation\n- src/editor/compiler/ir/types.ts - Add SignalExprClosure node type\n- src/editor/runtime/executor/evalSig.ts - Handle closure nodes\n\n**Spec:** compiler-final/ARCHITECTURE-RECOMMENDATIONS.md Part 4\n**Test Strategy:** V2 block with V1 closure inputs produces correct output","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-02T05:16:36.934412-07:00","updated_at":"2026-01-02T05:16:36.934412-07:00","dependencies":[{"issue_id":"oscilla-animator_codex-vgj","depends_on_id":"oscilla-animator_codex-bjo","type":"blocks","created_at":"2026-01-02T05:17:07.433712-07:00","created_by":"daemon"},{"issue_id":"oscilla-animator_codex-vgj","depends_on_id":"oscilla-animator_codex-cf6","type":"blocks","created_at":"2026-01-02T05:17:08.695554-07:00","created_by":"daemon"}]}
{"id":"oscilla-aqs","title":"ir-validator","description":"Validate emitted IR: no missing refs, types match, schedule is topologically valid, determinism rules satisfied. Runs after every compile in dev mode.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 14-Compiled-IR-Program-Contract\n**Implementation:** Integrated into dual-emit pipeline\n**Test Strategy:** Validator catches intentionally broken IR","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:56:15.786096-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.988-07:00","closed_at":"2026-01-02T11:56:51.988-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-av2","title":"path-focus-mode","description":"Focus on a single signal path through the patch.\n\n**Behavior:**\n- Click port/wire → highlight full path\n- Dim unrelated blocks\n- Show path-local inspector\n- Navigation: next/prev in path\n\n**Path definition:**\n- Start: any output port\n- Follow: wires and bus bindings\n- End: render sink or unconnected\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:20:00.798406-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:00.798406-07:00","dependencies":[{"issue_id":"oscilla-av2","depends_on_id":"oscilla-l2k","type":"blocks","created_at":"2026-01-02T06:20:46.122465-07:00","created_by":"bmf"}]}
{"id":"oscilla-azw","title":"dual-emit-compiler","description":"Modify compileBusAware to emit both closures (existing) AND IR fragments. IR is attached to CompileResult for validation. Closures still execute at runtime.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 01.1-CompilerMigration-Roadmap (Phase 2)\n**Implementation:** src/editor/compiler/compileBusAware.ts attachIR() function, emitIR option\n**Test Strategy:** Golden patch produces valid IR + working closures","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:56:15.707977-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.935531-07:00","closed_at":"2026-01-02T11:56:51.935531-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-b5p","title":"const-pool-default-sources","description":"Define ConstPool, TypedConst, DefaultSourceTable, DefaultSourceIR. Constants are interned; default sources replace params.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 06-Default-Sources\n**Implementation:** src/editor/compiler/ir/defaultSources.ts, src/editor/compiler/ir/program.ts\n**Test Strategy:** Constant interning tests, default source resolution","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:11.170832-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.868564-07:00","closed_at":"2026-01-02T11:55:20.868564-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-br4","title":"value-summary-display","description":"Compact value representations for inspector and tooltips.\n\n**Type summaries:**\n- number: formatted with precision\n- vec2/vec3: (x, y) or (x, y, z) with precision\n- color: swatch + hex code\n- Phase: circular indicator + numeric\n- array: length + type hint\n- Field: sparkline preview\n\n**Phase:** 7 Debug Infrastructure","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:18:25.803384-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:25.803384-07:00"}
{"id":"oscilla-c4h","title":"field-materializer","description":"Implement central materialize(req: MaterializationRequest) that walks FieldExpr DAG, produces typed arrays. Buffer pool for reuse.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 17-Scheduler-Full (§5.3), 04-FieldExpr (§9.2)\n**Implementation:** src/editor/runtime/field/Materializer.ts - FieldMaterializer, MaterializerEnv (63+ tests)\n**Test Strategy:** Materialization produces correct typed arrays","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:13.79358-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.445207-07:00","closed_at":"2026-01-02T11:58:55.445207-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-c5i","title":"technical-debt-cleanup","description":"Address accumulated technical debt.\n\n**Areas:**\n- Dead code removal\n- Unused imports cleanup\n- Type strengthening (remove 'any')\n- Test coverage gaps\n- Documentation updates\n- Dependency updates\n\n**Process:**\n- Run exhaustive linting\n- Manual review of TODOs\n- Archive obsolete design docs\n\n**Phase:** 8 Polish \u0026 Composites","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-02T06:19:10.322092-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:10.322092-07:00"}
{"id":"oscilla-c9m","title":"state-buffer-system","description":"Implement StateBuffer (typed arrays for state cells), StateLayout allocation. Explicit state for all stateful ops.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§6), 16-Block-Lowering (§6)\n**Implementation:** src/editor/compiler/ir/stores.ts - createStateBuffer(), initializeState() (16 tests)\n**Test Strategy:** State persists correctly across frames","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:56.013066-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:49.86048-07:00","closed_at":"2026-01-02T11:59:49.86048-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-cp7","title":"debug-hud","description":"In-preview overlay showing runtime stats and warnings.\n\n**HUD elements:**\n- FPS counter\n- Frame time breakdown (eval, render, idle)\n- Active element count\n- Memory usage estimate\n- Active warnings/errors badge\n\n**Interaction:**\n- Click warning → jump to source\n- Click element count → show breakdown\n- Toggle visibility via keyboard shortcut\n\n**Phase:** 7 Debug Infrastructure","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:18:21.275567-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:21.275567-07:00"}
{"id":"oscilla-cxb","title":"signal-evaluator-core","description":"Implement SigEvaluator.sample(id, env). Per-frame cache (sigValue, sigStamp). Handle basic ops: const, timeAbsMs, add, mul, sin, etc.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§2-4)\n**Implementation:** src/editor/runtime/signal-expr/SigEvaluator.ts (1200+ lines, 122+ tests)\n**Test Strategy:** Simple signal graphs evaluate correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:34.209193-07:00","created_by":"bmf","updated_at":"2026-01-02T11:57:54.704543-07:00","closed_at":"2026-01-02T11:57:54.704543-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-d41","title":"causal-edge-system","description":"Track data flow dependencies for 'why does this output look like this?' queries.\n\n**Causal edges:**\n- block.input → block.output (internal transform)\n- wire edge → input (data flow)\n- bus.publisher → bus.value (contribution)\n- bus.value → bus.listener (consumption)\n\n**Query API:**\n- traceCausesOf(portRef) → CausalPath[]\n- traceEffectsOf(portRef) → CausalPath[]\n- explainValue(portRef) → ValueExplanation\n\n**Phase:** 7 Debug Infrastructure\n**Test Strategy:** Causal queries match expected dependency graph","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:18:18.634346-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:18.634346-07:00","dependencies":[{"issue_id":"oscilla-d41","depends_on_id":"oscilla-dpi","type":"blocks","created_at":"2026-01-02T06:20:44.636793-07:00","created_by":"bmf"}]}
{"id":"oscilla-dbb","title":"transform-chain-ir","description":"Define TransformChainIR, TransformStepIR (adapter/lens steps), AdapterTable, LensTable. Unify adapter/lens under single transform representation.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 05-Lenses-Adapters\n**Implementation:** src/editor/compiler/ir/transforms.ts - TransformChainIR, 7 TransformStepIR variants\n**Test Strategy:** Chain composition tests, type validation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:51.366653-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.638678-07:00","closed_at":"2026-01-02T11:55:20.638678-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-dp8","title":"legacy-runtime-removal","description":"Remove old closure-based runtime after all blocks migrated to IR.\n\n**Work items:**\n- Remove RuntimeCtx (replace with executor context)\n- Remove Program type (replace with CompiledIR)\n- Remove old player evaluation path\n- Delete dead code paths\n\n**Prerequisites:** All blocks use IR compiler path\n**Phase:** 6 Full Scheduled Runtime\n**Test Strategy:** All tests pass with legacy runtime removed","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-02T06:17:31.190515-07:00","created_by":"bmf","updated_at":"2026-01-02T06:17:31.190515-07:00","dependencies":[{"issue_id":"oscilla-dp8","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:43.725203-07:00","created_by":"bmf"}]}
{"id":"oscilla-dpi","title":"schedule-probe-insertion","description":"Insert debug probes into compiled schedule at strategic points.\n\n**Insertion points:**\n- Signal evaluation entry/exit\n- Field materialization\n- Bus combine operations\n- Render pass execution\n\n**Probe types:**\n- Value capture (snapshot current value)\n- Timing capture (measure duration)\n- Dependency tracking (record what was read)\n\n**Phase:** 7 Debug Infrastructure\n**Test Strategy:** Probes capture expected values without affecting output","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:18:17.392412-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:17.392412-07:00","dependencies":[{"issue_id":"oscilla-dpi","depends_on_id":"oscilla-r77","type":"blocks","created_at":"2026-01-02T06:20:44.570967-07:00","created_by":"bmf"}]}
{"id":"oscilla-e0k","title":"execute-bus-eval","description":"Implement executeBusEval step executor with combine modes, silent values, publisher filtering.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** 17-Scheduler-Full (§3.3)\n**Implementation:** src/editor/runtime/executor/steps/executeBusEval.ts (10 tests)\n**Test Strategy:** All combine modes (sum, avg, min, max, last, product) work correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:59:25.113232-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:50.012419-07:00","closed_at":"2026-01-02T11:59:50.012419-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-eag","title":"fieldexpr-schema","description":"Define FieldExprIR node types: const, inputSlot, map, zip, select, busCombine, transform, sampleSignal. Create FieldExprTable and MaterializationIR.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 04-FieldExpr\n**Implementation:** src/editor/compiler/ir/fieldExpr.ts - 7 FieldExprIR variants\n**Test Strategy:** Schema validation, example IR construction","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:51.293654-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.581121-07:00","closed_at":"2026-01-02T11:55:20.581121-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-egp","title":"block-compilers-signal","description":"Migrate signal-producing block compilers to emit SignalExpr nodes via IRBuilder. Start with pure blocks (Add, Mul, Sin), then time blocks, then stateful.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 16-Block-Lowering\n**Implementation:** All 42 blocks migrated via registerBlockType() pattern, MIGRATED_BLOCKS set updated\n**Test Strategy:** Each migrated block produces same output as before","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:54.582717-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:13.469285-07:00","closed_at":"2026-01-02T11:58:13.469285-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-eq8","title":"lowering-pass-types","description":"Implement Pass 2 (Type Graph): convert SlotType→TypeDesc, validate bus eligibility, precompute adapter/lens conversion paths. Output: TypedPatch.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 2)\n**Implementation:** src/editor/compiler/passes/pass2-types.ts (32 tests)\n**Test Strategy:** Type validation catches mismatches","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:40.677522-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.625056-07:00","closed_at":"2026-01-02T11:56:51.625056-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-ew1","title":"Phase 1: Contracts \u0026 Type Unification","description":"Lock foundational types and numeric ID system. No runtime changes yet.\n\n**Status:** COMPLETED\n**Completion Date:** 2025-12-25\n\n**Topics:**\n- type-unification ✅\n- dense-id-system ✅\n- ir-core-types ✅\n- timemodel-ir ✅","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:52:03.293124-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:53.223135-07:00","closed_at":"2026-01-02T11:53:53.223135-07:00","close_reason":"Phase 1 completed 2025-12-25"}
{"id":"oscilla-gwk","title":"Phase 6: Full Scheduled Runtime","description":"Complete IR-driven runtime with explicit schedule, ValueStore, state management, and hot-swap.\n\n**Status:** ON HOLD - Pending Phase 0\n**Started:** 2025-12-26\n**Sprint 1 Complete:** 2025-12-26\n**Sprint 2 Complete:** 2025-12-26\n\n**Topics (completed):**\n- value-store ✅ (31 tests)\n- state-buffer-system ✅ (16 tests)\n- runtime-state-integration ✅ (17 tests)\n- frame-cache-system ✅ (41 tests)\n- execute-bus-eval ✅ (10 tests)\n- execute-materialize ✅ (20 tests)\n\n**Topics (partial):**\n- schedule-executor 🔄 (executeNodeEval, executeRenderAssemble remaining)\n\n**Topics (proposed):**\n- hot-swap-semantics\n- determinism-enforcement\n- legacy-runtime-removal","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:53:03.841905-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:03.841905-07:00","dependencies":[{"issue_id":"oscilla-gwk","depends_on_id":"oscilla-qax","type":"blocks","created_at":"2026-01-02T12:00:54.440337-07:00","created_by":"bmf"}]}
{"id":"oscilla-h1q","title":"field-combine-nodes","description":"Implement field bus combine as FieldExpr node. Combines produce new FieldExpr (cheap), not arrays.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 04-FieldExpr (busCombine)\n**Implementation:** src/editor/runtime/field/Materializer.ts - evalBusCombine with sum/average/min/max/last modes\n**Test Strategy:** Field bus combine matches legacy behavior","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:37.622938-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.560169-07:00","closed_at":"2026-01-02T11:58:55.560169-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-hlc","title":"materializer-integration","description":"Integrate SigEvaluator into Materializer for field broadcast evaluation. IR evaluation preferred, SignalBridge fallback.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§7)\n**Implementation:** Updated Materializer.ts SigEnv with irEnv/irNodes, evalSig prefers IR (3 integration tests)\n**Test Strategy:** IR evaluation produces same results as closure evaluation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:54.652958-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:13.519891-07:00","closed_at":"2026-01-02T11:58:13.519891-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-i7l","title":"field-broadcast-reduce","description":"Implement explicit bridge ops: broadcastSigToField (scalar→field), reduceFieldToSig (field→scalar). No implicit world switching.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 16-Block-Lowering (§5), 04-FieldExpr\n**Implementation:** src/editor/runtime/field/Materializer.ts - evalBroadcast, evalReduce functions\n**Test Strategy:** Broadcast/reduce produce expected results","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:14.042564-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.502469-07:00","closed_at":"2026-01-02T11:58:55.502469-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-jtv","title":"export-determinism","description":"Ensure exports (GIF, video, image sequence) produce identical output for same patch+time.\n\n**Requirements:**\n- Fixed random seeds\n- Deterministic floating point (or tolerance)\n- Reproducible across sessions\n- Version-stamped exports\n\n**Verification:**\n- Export same patch twice → identical files\n- Export at t=1000 → same frame regardless of playback history\n\n**Phase:** 8 Polish \u0026 Composites","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:19:06.845129-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:06.845129-07:00"}
{"id":"oscilla-k8u","title":"Phase 0.5: Compatibility Cleanup","description":"Remove backward compatibility shims, deprecated types, and facades introduced during Phase 0 refactoring.\n\n**Status:** QUEUED\n**Blocked By:** Phase 0 completion gate\n\n**Completion Gate:**\n- [ ] No deprecated types remain in codebase\n- [ ] No migration helpers or facades remain\n- [ ] Serialization format is clean (no backward compat)\n- [ ] All tests pass with cleaned codebase\n- [ ] CHANGELOG documents all breaking changes","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T11:51:55.698471-07:00","created_by":"bmf","updated_at":"2026-01-02T11:51:55.698471-07:00","dependencies":[{"issue_id":"oscilla-k8u","depends_on_id":"oscilla-qax","type":"blocks","created_at":"2026-01-02T12:00:54.3886-07:00","created_by":"bmf"}]}
{"id":"oscilla-kzj","title":"type-key-encoding","description":"Implement TypeKeyId encoding: TypeKey→dense u16, stable serialization. Map all TypeDesc to TypeKeyId.\n\n**Phase:** 7 - Debug Infrastructure\n**Status:** COMPLETED\n**Spec:** 19-Debugger-ValueKind (§1)\n**Implementation:** src/editor/debug/TypeKeyEncoding.ts - encodeTypeKey(), decodeTypeKey()\n**Test Strategy:** TypeKey roundtrip stable","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T11:59:50.132167-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:06.919869-07:00","closed_at":"2026-01-02T12:00:06.919869-07:00","close_reason":"Completed 2025-12-27"}
{"id":"oscilla-l2k","title":"undo-redo","description":"Full undo/redo system with branching history.\n\n**Requirements:**\n- All patch mutations undoable\n- Branching history (multiple redo paths)\n- Coalesce rapid edits (debounce)\n- Keyboard shortcuts (Cmd+Z, Cmd+Shift+Z)\n\n**Implementation:**\n- Command pattern for all mutations\n- Immutable patch snapshots\n- History stack with branch points\n\n**Phase:** 9 Path-Focused Composition (UI Redesign)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T06:19:59.231559-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:59.231559-07:00"}
{"id":"oscilla-l49","title":"issue-detection","description":"Automatic detection of common problems.\n\n**Detectable issues:**\n- Disconnected subgraphs (unreachable blocks)\n- Unused bus (no consumers)\n- Circular dependencies (if not intentional)\n- Type mismatches at runtime\n- Performance red flags (high element count, expensive lenses)\n- Stale values (no change in N frames)\n\n**Response:**\n- Warning badge on block/bus\n- Entry in diagnostics panel\n- Optional: suggested fix\n\n**Phase:** 7 Debug Infrastructure","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T06:18:28.372831-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:28.372831-07:00"}
{"id":"oscilla-l7m","title":"auto-layout-graph","description":"One-click automatic graph layout.\n\n**Algorithm options:**\n- Flow-based (left-to-right signal flow)\n- Hierarchical (by block category)\n- Force-directed (minimize edge crossings)\n\n**User control:**\n- Lock specific blocks in place\n- Set layout direction preference\n- Adjust spacing parameters\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:20:09.92079-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:09.92079-07:00"}
{"id":"oscilla-m0n","title":"dense-id-system","description":"Introduce dense numeric indices for all runtime lookups: BlockIndex, PortIndex, SlotKey, BusIndex. String keys become debug-only. Build DebugIndex for reverse mapping.\n\n**Phase:** 1 - Contracts \u0026 Type Unification\n**Status:** COMPLETED\n**Spec:** 02-IR-Schema (§2), 20-TraceStorage (§1)\n**Implementation:** src/editor/compiler/ir/types.ts - NodeIndex, PortIndex, BusIndex, ValueSlot, SigExprId, FieldExprId\n**Test Strategy:** Property tests: id↔string roundtrip, no collisions","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:19.948914-07:00","created_by":"bmf","updated_at":"2026-01-02T11:54:32.438072-07:00","closed_at":"2026-01-02T11:54:32.438072-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-n7g","title":"determinism-enforcement","description":"Runtime determinism checks for scrubbing/replay consistency.\n\n**Requirements:**\n- No Math.random() at runtime (seed at compile-time)\n- No Date.now() except in specific timing contexts\n- State must be reconstructable from (patch, t)\n- Frame N must produce identical output given identical inputs\n\n**Checks:**\n- Static analysis for forbidden runtime APIs\n- Runtime assertions in debug mode\n- Replay comparison testing\n\n**Spec:** ROADMAP § Phase 6\n**Test Strategy:** Same patch+time produces byte-identical render output","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T06:17:30.303541-07:00","created_by":"bmf","updated_at":"2026-01-02T06:17:30.303541-07:00","dependencies":[{"issue_id":"oscilla-n7g","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:43.673762-07:00","created_by":"bmf"}]}
{"id":"oscilla-n7l","title":"remove-registry-facades","description":"Remove old LensRegistry and AdapterRegistry facades if Sprint 4 was completed. Keep unified TransformRegistry only.\n\n**Work items:**\n- Delete LensRegistry.ts (or convert to pure re-export)\n- Delete AdapterRegistry.ts (or convert to pure re-export)\n- Remove deprecation warnings\n- Update all imports to use TransformRegistry\n\n**Phase:** 0.5 Compatibility Cleanup\n**Test Strategy:** All lens/adapter functionality works through unified registry","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-02T06:16:57.661123-07:00","created_by":"bmf","updated_at":"2026-01-02T06:16:57.661123-07:00","dependencies":[{"issue_id":"oscilla-n7l","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:42.268366-07:00","created_by":"bmf"}]}
{"id":"oscilla-obm","title":"Phase 9: Path-Focused Composition","description":"Replace graph-based patch editing with linear path-focused composition. Users think in signal chains, not node graphs.\n\n**Status:** QUEUED\n\n**Philosophy:** The current 'here are all your blocks, arrange them yourself' model creates cognitive overhead. The new model: 'here is one path from TimeRoot → Canvas, compose it step by step.'\n\n**Foundation:**\n- undo-redo 🔄 (Phase 1-2 complete, Phase 3-4 planned)\n\n**Core Topics:**\n- path-focus-mode\n- path-discovery\n- path-layout-engine\n- live-port-preview\n- smart-defaults\n- path-block-insertion\n- quick-swap\n- auto-connect\n- auto-layout-graph","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-02T11:53:35.487113-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:35.487113-07:00"}
{"id":"oscilla-pji","title":"signalexpr-schema","description":"Define SignalExprIR node types: const, timeAbsMs, inputSlot, map, zip, select, transform, busCombine, stateful. Create SignalExprTable.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 12-SignalExpr\n**Implementation:** src/editor/compiler/ir/signalExpr.ts - 12 SignalExprIR variants\n**Test Strategy:** Schema validation, example IR construction","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:51.214641-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.525456-07:00","closed_at":"2026-01-02T11:55:20.525456-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-pt5","title":"Fix GifExporter test suite","description":"GifExporter.test.ts has 13 failing tests. Export functionality requires full runtime canvas that doesn't exist in test environment. Tests for: export to blob, frame timing, progress callbacks, cancellation. Likely needs proper mocking or integration test approach.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T18:03:16.686658-07:00","created_by":"bmf","updated_at":"2026-01-02T18:03:16.686658-07:00"}
{"id":"oscilla-q0p","title":"Phase 4: SignalExpr Runtime","description":"Replace signal closures with SignalExpr DAG. Evaluator samples expressions, falling back to closures for unimplemented ops.\n\n**Status:** COMPLETED\n**Started:** 2025-12-25\n**Completed:** 2025-12-26\n\n**Topics:**\n- signal-evaluator-core ✅ (122+ tests)\n- signal-evaluator-combine ✅\n- signal-evaluator-transforms ✅\n- signal-evaluator-stateful ✅ (33+ tests)\n- signal-closure-bridge ✅ (23+ tests)\n- block-compilers-signal ✅ (42 blocks)\n- materializer-integration ✅ (3 tests)","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:52:35.735375-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:53.397318-07:00","closed_at":"2026-01-02T11:53:53.397318-07:00","close_reason":"Phase 4 completed 2025-12-26"}
{"id":"oscilla-qax","title":"Phase 0: Architecture Refactoring","description":"Unify redundant abstractions to simplify the IR compiler. Every input should have exactly one resolution path.\n\n**Status:** ACTIVE - TOP PRIORITY\n**Started:** 2025-12-31\n\n**Completion Gate:**\n- [ ] All edges use unified Edge type\n- [ ] All inputs connected via edges (no special default source handling)\n- [ ] V2 adapter compiles legacy bridge blocks\n- [ ] Golden patch compiles and runs with new structure","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-02T11:51:44.898446-07:00","created_by":"bmf","updated_at":"2026-01-02T11:51:44.898446-07:00"}
{"id":"oscilla-r77","title":"hot-swap-semantics","description":"Define semantics for hot-swapping compiled programs during playback. How does runtime handle program changes mid-frame?\n\n**Requirements:**\n- Define atomic swap semantics (swap happens between frames)\n- Handle ValueStore state preservation across swaps\n- Define what happens to in-flight computations\n- Handle buffer size changes gracefully\n\n**Spec:** ROADMAP § Phase 6\n**Test Strategy:** Hot swap during playback preserves visual continuity","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-02T06:17:28.737356-07:00","created_by":"bmf","updated_at":"2026-01-02T06:17:28.737356-07:00","dependencies":[{"issue_id":"oscilla-r77","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:43.620569-07:00","created_by":"bmf"}]}
{"id":"oscilla-rkr","title":"bus-ir-schema","description":"Define BusTable, BusIR, PublisherIR, ListenerIR, CombineSpec, SilentValueSpec. Publishers sorted by sortKey with tie-breaks.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 07-Buses\n**Implementation:** src/editor/compiler/ir/program.ts, src/editor/compiler/ir/schedule.ts\n**Test Strategy:** Publisher ordering tests, combine mode validation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:51.448159-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.696934-07:00","closed_at":"2026-01-02T11:55:20.696934-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-rws","title":"field-handle-system","description":"Implement FieldHandle as expression recipe (not array). evalFieldHandle returns handles, memoized per frame.\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** 17-Scheduler-Full (§5.1-5.2)\n**Implementation:** src/editor/runtime/field/FieldHandle.ts - createFieldHandleCache, FieldHandleCache\n**Test Strategy:** Field handles compose correctly","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:13.68912-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.386568-07:00","closed_at":"2026-01-02T11:58:55.386568-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-s80","title":"debug-drawer","description":"Slide-out panel with debug tools and diagnostics.\n\n**Drawer sections:**\n- Console (log messages, warnings, errors)\n- Performance (frame timeline, hot paths)\n- Network (bus activity, data flow)\n- State (current values, change history)\n\n**Phase:** 7 Debug Infrastructure","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:18:24.405574-07:00","created_by":"bmf","updated_at":"2026-01-02T06:18:24.405574-07:00"}
{"id":"oscilla-s91","title":"path-discovery","description":"Automatically discover and name common path patterns.\n\n**Discoverable patterns:**\n- Time → Render (simple animation)\n- Time → Operator chain → Render (processed animation)\n- Bus publish/subscribe chains\n- Feedback loops\n\n**Uses:**\n- Suggested starting points\n- Path templates\n- Documentation generation\n\n**Phase:** 9 Path-Focused Composition","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T06:20:01.772369-07:00","created_by":"bmf","updated_at":"2026-01-02T06:20:01.772369-07:00"}
{"id":"oscilla-sk2","title":"lowering-pass-depgraph","description":"Implement Pass 4-5 (Dependency Graph + SCC): build unified dep graph over blocks/buses, validate cycles with state boundary rules. Output: AcyclicOrLegalGraph.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 4-5)\n**Implementation:** src/editor/compiler/passes/pass4-depgraph.ts (15 tests), src/editor/compiler/passes/pass5-scc.ts (21 tests)\n**Test Strategy:** Cycle detection with/without state boundaries","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:57.178197-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.730417-07:00","closed_at":"2026-01-02T11:56:51.730417-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-toh","title":"bus-lowering-pass","description":"Implement Pass 7 (Bus Lowering): Lower buses to sigCombine/fieldCombine nodes with transform chains.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 7)\n**Implementation:** src/editor/compiler/passes/pass7-bus-lowering.ts (13 tests)\n**Test Strategy:** Bus combines produce valid IR","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:57.339399-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.834813-07:00","closed_at":"2026-01-02T11:56:51.834813-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-u26","title":"remove-connection-facades","description":"Remove deprecated Connection, Publisher, Listener types and migration helpers. All code should use Edge type directly.\n\n**Work items:**\n- Delete connectionToEdge(), publisherToEdge(), listenerToEdge() helpers\n- Delete edgeToConnection(), edgeToPublisher(), edgeToListener() reverse helpers\n- Remove deprecated type aliases (Connection, Publisher, Listener)\n- Update any remaining code using old types\n- Remove backward compatibility comments\n\n**Files to modify:**\n- src/editor/types.ts - Remove deprecated types\n- src/editor/stores/PatchStore.ts - Remove computed getters for old types\n- Test files - Update to use Edge directly\n\n**Phase:** 0.5 Compatibility Cleanup\n**Test Strategy:** All tests pass with deprecated types removed","status":"open","priority":2,"issue_type":"chore","created_at":"2026-01-02T06:16:54.2869-07:00","created_by":"bmf","updated_at":"2026-01-02T06:16:54.2869-07:00","dependencies":[{"issue_id":"oscilla-u26","depends_on_id":"oscilla-animator_codex-vgj","type":"blocks","created_at":"2026-01-02T06:20:42.15587-07:00","created_by":"bmf"}]}
{"id":"oscilla-uya","title":"runtime-state-integration","description":"Wire real ValueStore and StateBuffer into createRuntimeState(). Placeholder slot metadata extraction from schedule.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** Integration requirement\n**Implementation:** src/editor/runtime/executor/RuntimeState.ts - extractSlotMeta(), real store integration (17 tests)\n**Test Strategy:** RuntimeState uses real stores, not stubs","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:59:24.871781-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:49.910524-07:00","closed_at":"2026-01-02T11:59:49.910524-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-vww","title":"signal-evaluator-stateful","description":"Implement stateful signal ops: integrate, delayMs, delayFrames, sampleHold, slew. Explicit StateBuffer allocation and update.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§6), 12-SignalExpr (stateful ops)\n**Implementation:** SigStateful.ts with integrate, delayMs, delayFrames, sampleHold, slew, edgeDetectWrap, pulseDivider, envelopeAD (33+ tests)\n**Test Strategy:** Stateful ops maintain state correctly across frames","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:34.437934-07:00","created_by":"bmf","updated_at":"2026-01-02T11:57:54.864235-07:00","closed_at":"2026-01-02T11:57:54.864235-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-w3n","title":"trace-controller","description":"Implement TraceController: mode switching (OFF/TIMING/FULL), sampling policies, buffer size limits, drop policy.\n\n**Phase:** 7 - Debug Infrastructure\n**Status:** COMPLETED\n**Spec:** 18-Debugger-Part-1 (§8), 19-Debugger-ValueKind (§5)\n**Implementation:** src/editor/debug/TraceController.ts\n**Test Strategy:** Trace modes have expected overhead","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T11:59:50.334355-07:00","created_by":"bmf","updated_at":"2026-01-02T12:00:07.163181-07:00","closed_at":"2026-01-02T12:00:07.163181-07:00","close_reason":"Completed 2025-12-27"}
{"id":"oscilla-wq1","title":"signal-evaluator-combine","description":"Implement busCombine in signal evaluator: sum, average, min, max, last. Deterministic publisher ordering from IR.\n\n**Phase:** 4 - SignalExpr Runtime\n**Status:** COMPLETED\n**Spec:** 13-SignalExpr-Evaluator (§4.B)\n**Implementation:** evalBusCombine() in SigEvaluator.ts with all combine modes\n**Test Strategy:** Bus combine produces same results as closure version","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:57:34.285849-07:00","created_by":"bmf","updated_at":"2026-01-02T11:57:54.754849-07:00","closed_at":"2026-01-02T11:57:54.754849-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-x7w","title":"timemodel-ir","description":"Define TimeModelIR (finite/infinite ONLY - no cyclic), canonical time signals (tAbsMs, tModelMs). Lock time topology contract. Note: Cycles are produced by Time Console rails, not TimeModel variants.\n\n**Phase:** 1 - Contracts \u0026 Type Unification\n**Status:** COMPLETED\n**Spec:** 02-IR-Schema (§4)\n**Implementation:** src/editor/compiler/ir/schedule.ts - TimeModelIR, TimeModelFinite, TimeModelInfinite\n**Test Strategy:** Unit tests for time model derivation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:54:20.130022-07:00","created_by":"bmf","updated_at":"2026-01-02T11:54:32.551083-07:00","closed_at":"2026-01-02T11:54:32.551083-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-xck","title":"signal-bridge","description":"Minimal signal evaluation bridge for broadcast nodes (temporary until Phase 4 SigEvaluator integration).\n\n**Phase:** 5 - FieldExpr + Materialization\n**Status:** COMPLETED\n**Spec:** Integration requirement\n**Implementation:** src/editor/runtime/integration/SignalBridge.ts (179 lines, 38+ tests)\n**Test Strategy:** Broadcast field nodes materialize with real signal values","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:58:37.945596-07:00","created_by":"bmf","updated_at":"2026-01-02T11:58:55.787733-07:00","closed_at":"2026-01-02T11:58:55.787733-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-xec","title":"block-compiler-migration","description":"Migrate block compilers to emit IR using registerBlockType() and BlockLowerFn pattern while maintaining legacy closure exports for dual-emit mode.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 16-Block-Lowering\n**Implementation:** All domain, signal, rhythm, render blocks migrated in src/editor/compiler/blocks/\n**Test Strategy:** Migrated blocks work in both closure and IR modes","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:56:15.864543-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:52.040653-07:00","closed_at":"2026-01-02T11:56:52.040653-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-yai","title":"rust-wasm-prep","description":"Prepare architecture for future Rust/WASM runtime.\n\n**Changes:**\n- Ensure all hot paths operate on typed arrays (Float32Array, etc)\n- Document memory layout assumptions\n- Create bindgen-friendly interfaces\n- Benchmark current JS performance baseline\n\n**Not in scope:** Actually writing Rust code (that's a separate major effort)\n\n**Phase:** 8 Polish \u0026 Composites","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-02T06:19:11.861305-07:00","created_by":"bmf","updated_at":"2026-01-02T06:19:11.861305-07:00"}
{"id":"oscilla-yao","title":"opcode-registry","description":"Define OpCode union type covering: time, identity/domain, pure math, state, render, IO, transform ops. Create registry with metadata for each.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 11-Opcode-Taxonomy\n**Implementation:** src/editor/compiler/ir/opcodes.ts - 50+ OpCodes with OPCODE_REGISTRY\n**Test Strategy:** Exhaustive opcode coverage, dispatch tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:11.089436-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.811439-07:00","closed_at":"2026-01-02T11:55:20.811439-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-z1j","title":"link-resolution-pass","description":"Implement Pass 8 (Link Resolution): Resolve all ValueRefs into concrete BlockInputRootIR and BlockOutputRootIR tables.\n\n**Phase:** 3 - Bridge Compiler\n**Status:** COMPLETED\n**Spec:** 15-Canonical-Lowering-Pipeline (Pass 8)\n**Implementation:** src/editor/compiler/passes/pass8-link-resolution.ts (6 tests)\n**Test Strategy:** All ports have resolved value sources","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:57.41651-07:00","created_by":"bmf","updated_at":"2026-01-02T11:56:51.88503-07:00","closed_at":"2026-01-02T11:56:51.88503-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-zhq","title":"cache-policy-ir","description":"Define CachingIR, CacheKeySpec (none/perFrame/untilInvalidated), CacheDep variants. Attach cache specs to steps and materializations.\n\n**Phase:** 2 - IR Data Structures\n**Status:** COMPLETED\n**Spec:** 09-Caching\n**Implementation:** src/editor/compiler/ir/schedule.ts - CachingIR, CacheKeySpec, CacheDep\n**Test Strategy:** Cache key computation tests","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:55:11.251769-07:00","created_by":"bmf","updated_at":"2026-01-02T11:55:20.939884-07:00","closed_at":"2026-01-02T11:55:20.939884-07:00","close_reason":"Completed 2025-12-25"}
{"id":"oscilla-zm8","title":"frame-cache-system","description":"Implement FrameCache with per-frame memo for signals/fields. Cache key validation from CacheKeySpec.\n\n**Phase:** 6 - Full Scheduled Runtime\n**Status:** COMPLETED\n**Spec:** 17-Scheduler-Full (§8), 09-Caching\n**Implementation:** src/editor/runtime/executor/RuntimeState.ts - createFrameCache() with stamp-based invalidation (41 tests)\n**Test Strategy:** Cache hits/misses are correct","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T11:59:25.030604-07:00","created_by":"bmf","updated_at":"2026-01-02T11:59:49.961462-07:00","closed_at":"2026-01-02T11:59:49.961462-07:00","close_reason":"Completed 2025-12-26"}
{"id":"oscilla-zs9","title":"Phase 7: Debug Infrastructure","description":"Build power-user debugger with ring buffers, causal links, and trace storage.\n\n**Status:** ON HOLD - Pending Phase 0\n**Started:** 2025-12-27\n\n**Existing Infrastructure (completed):**\n- type-key-encoding ✅\n- span-ring-buffer ✅\n- value-record-encoding ✅\n- trace-controller ✅\n\n**Sprint 1 (in progress):**\n- debug-index-compile 🔄\n- execute-debug-probe 🔄\n- schedule-probe-insertion 💡\n\n**Future Topics:**\n- causal-edge-system\n- instrumentation-hooks\n- debug-hud\n- probe-mode\n- debug-drawer\n- value-summary-display\n- issue-detection","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T11:53:15.171248-07:00","created_by":"bmf","updated_at":"2026-01-02T11:53:15.171248-07:00","dependencies":[{"issue_id":"oscilla-zs9","depends_on_id":"oscilla-qax","type":"blocks","created_at":"2026-01-02T12:00:54.491979-07:00","created_by":"bmf"}]}
