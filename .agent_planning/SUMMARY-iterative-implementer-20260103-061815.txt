Agent: iterative-implementer | 2026-01-03
Mode: manual
Completed: Connection to Edge migration in kernel | Files: 10 | Commits: 1
Cache invalidated: None (no eval cache conflicts)
Status: in_progress

COMPLETED WORK:
- Updated kernel/ops.ts: WireAdd/WireRemove/WireRetarget use Edge/edgeId
- Updated kernel/applyOp.ts: removed Connection conversion, uses Edge directly
- Updated kernel/invertOp.ts: removed legacy transform conversion
- Updated kernel/TransactionBuilder.ts: creates Edge objects directly
- Updated autowire.ts: uses Edge[] instead of Connection[]
- Updated composite-utils.ts: detectExposedPorts uses Edge[]
- Updated SaveCompositeDialog.tsx: uses allEdges prop
- Updated kernel/diff.ts: uses edge/edgeId fields
- Updated kernel ops integration tests
- Typecheck passes

REMAINING WORK (not in original task scope but identified):
- Remove deprecated connections array from PatchStore (still used in expansion)
- Update transactions/applyOps.ts to use edges instead of connections
- Update compiler/unified/UnifiedCompiler.ts to use patch.edges
- Update composite definitions to use edges in their graph
- Update remaining tests
- Remove Connection interface from types.ts (after all usages removed)

NOTES:
- Core kernel operations now use Edge exclusively
- Connection type still exists for backward compatibility in other parts
- Full migration requires updating transaction system and compiler
- Typecheck currently passes with both types coexisting
