Agent: iterative-implementer | 2026-01-03 16:29
Mode: manual
Completed: Fixed obsolete test files | Files: 2 (deleted 2) | Commits: 1
Tests: N/A (type errors fixed, not runtime tests)
Cache invalidated: None (no cache entries for test files)
Status: complete

## Summary

Deleted 2 obsolete test files:
- src/editor/compiler/passes/__tests__/pass0-materialize.test.ts
- src/editor/__tests__/composite.expansion.test.ts

Fixed 2 test files with type/signature errors:
- src/editor/__tests__/lenses.test.ts
- src/editor/__tests__/replaceUtils.test.ts

## Changes Made

### Deleted Tests (obsolete Bus/BusBlock APIs)
1. pass0-materialize.test.ts - tested addBus(), busBlocks, getBusById() which were removed
2. composite.expansion.test.ts - tested old Bus type format with CombinePolicy

### Fixed lenses.test.ts
- Changed Signal:number → Signal:float (4 occurrences)
- Changed Scalar:number → Scalar:float (2 occurrences)
- Root cause: TypeDesc changed from object to string format

### Fixed replaceUtils.test.ts
- findCompatibleReplacements: added edges parameter (now takes 3 args)
- mapConnections: reordered params to (oldBlock, newDef, edges)
- copyCompatibleParams: changed from (block, def) to (params, def)
- Root cause: Function signatures changed in recent refactoring

## Remaining Test Errors (192 total)

Still have errors in:
- UnifiedCompiler.test.ts - uses obsolete publishers/listeners properties
- CompositeStore.test.ts - uses obsolete category property on Block
- transactions/__tests__/*.test.ts - uses obsolete inputs/outputs on Block
- Other test files using old type formats

These require similar fixes (delete if obsolete, update types if still valid).

## Impact
Reduced test file type errors from ~200+ to 192.
