# Definition of Done: Paths2D Milestone 2 - Path Transform Operations

## Goal
Implement path transform operations (PathTranslate, PathScale, PathRotate) that work per-element and can be animated via signals.

## Acceptance Criteria

### AC1: PathTranslate Operation
- [ ] Add `PathTranslate` to FieldOp enum in `src/editor/runtime/field/types.ts`
- [ ] Implement PathTranslate evaluation in field materializer
  - Takes Field<path> and Signal<number> (dx, dy) inputs
  - Offsets all path command coordinates by (dx, dy)
  - Works per-element (each element can have different offset)
- [ ] Update `executeMaterializePath.ts` to handle `map` operations with PathTranslate

### AC2: PathScale Operation
- [ ] Add `PathScale` to FieldOp enum
- [ ] Implement PathScale evaluation
  - Takes Field<path> and Signal<number> (sx, sy) inputs
  - Scales all path command coordinates by (sx, sy) from origin
  - Works per-element

### AC3: PathRotate Operation
- [ ] Add `PathRotate` to FieldOp enum
- [ ] Implement PathRotate evaluation
  - Takes Field<path> and Signal<number> (angle) input
  - Rotates all path command coordinates around origin
  - Angle in radians

### AC4: UI Block for Path Transform
- [ ] Add `PathTransform2D` block definition to `src/editor/blocks/domain.ts`
  - Inputs: Field<path>, Signal<number> for translate/rotate/scale params
  - Output: Field<path>
  - Config to select transform type

### AC5: Compiler Support
- [ ] Add `PathTransform2D` compiler block to `src/editor/compiler/blocks/domain/`
- [ ] IR lowering emits field map operation with PathTranslate/Scale/Rotate opcode
- [ ] Register in block registry

### AC6: Signal Animation
- [ ] Path transform parameters accept Signal<number> for animation
- [ ] Transforms re-evaluate per frame when signal changes
- [ ] Paths re-materialize correctly with new transform values

## Validation
- Create a test patch with PathConst → PathTransform2D → RenderPaths2D
- Verify paths render with transform applied
- Connect oscillator to transform param, verify animation works

## Reference
- design-docs/13-Renderer/12-Paths2D-Implementation-Plan.md (Milestone 2)
- Workstream C2 for path operation implementation guidance
