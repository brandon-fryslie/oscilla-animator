# Definition of Done: Modulation Table UI Improvements
Generated: 2024-12-24

## Acceptance Criteria Checklist

- [ ] Blocks with both inputs and outputs appear on BOTH sides of the table
- [ ] No filtering by subcategory, block type, or any other arbitrary criteria
- [ ] If a block in patch has no bus-eligible ports, error is logged to diagnostics
- [ ] No console errors related to missing groups or undefined rows

### P1: Section Collapse Defaults
- [ ] Individual block groups start collapsed (just headers visible)
- [ ] User can manually collapse/expand sections

### P2: Header-Click Collapse
- [ ] No `â—‚`/`â–¸` arrow buttons visible in section headers
- [ ] Clicking section header text (e.g., "â†“ LISTENERS bus â†’ input") collapses that section
- [ ] Cursor shows pointer on section header hover

### P3: Rainbow Emoji
- [ ] Color/palette bus column shows ðŸŒˆ instead of â– 

### P4: Compatible-Only + Adapter Support
- [ ] "Compatible only" checkbox is checked by default
- [ ] When checked, adapter-chain-compatible columns are included (not just direct matches)
- [ ] Cheap cost adapters: behave identically to direct binding (green dot)
- [ ] Medium cost adapters: show yellow warning triangle (âš ) indicator
- [ ] Heavy cost adapters: show distinct indicator (user must confirm before binding)

### P5: Styled Tooltips
- [ ] Tooltips render as styled JavaScript overlays (not browser default)
- [ ] Tooltips match app's dark theme
- [ ] Cell hover shows status/lens info in styled tooltip
- [ ] Column headers show bus type info in styled tooltip
- [ ] Row headers show port type info in styled tooltip

### P6: Block Name Simplification
- [ ] Group headers show just block label (e.g., "Time")
- [ ] No subcategory prefix (e.g., no "TimeRoot:", "Other:", "Render:")

### P7: Per-Column Bound/Available Counts
- [ ] Group header shows per-column `(bound,available)` counts
- [ ] Bound count is green
- [ ] Available count is yellow
- [ ] Zero counts show nothing (empty)
- [ ] Parentheses are dark gray
- [ ] No "(x ports)" total count

---

## Verification Method
Use Chrome DevTools MCP to verify each criterion visually in the browser.

## Exit Criteria
All acceptance criteria checked and verified via browser testing.
